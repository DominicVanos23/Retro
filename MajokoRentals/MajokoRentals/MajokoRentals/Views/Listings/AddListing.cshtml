@model MajokoRentals.Models.ListingModel
@{
    ViewData["Title"] = "Add Listing";
}

<style>
    :root {
        --bg-1: #0E1327;
        --bg-2: #151A2C;
        --panel: #ffffff22;
        --panel-2: #ffffff10;
        --brand: #BAAA49;
        --brand-2: #e4d46d;
        --text: #FFFFFF;
        --muted: #cfd3e6cc;
        --border: #ffffff2a;
        --shadow: 0 18px 40px rgba(0, 0, 0, .45);
        --radius: 18px;
        --ring: 0 0 0 3px rgba(186, 170, 73, .35);
    }

    .add-listing-page {
        background: none;
    }

        .add-listing-page body {
            background-color: #1a1d2d;
            color: var(--text);
            font-family: 'Segoe UI', sans-serif;
        }

        /* Form Card */
        .add-listing-page .listing-form {
            max-width: 760px;
            margin: 56px auto;
            background: linear-gradient(180deg, var(--panel), var(--panel-2));
            -webkit-backdrop-filter: blur(14px) saturate(140%);
            backdrop-filter: blur(14px) saturate(140%);
            padding: 32px 28px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            text-align: left;
        }

            .add-listing-page .listing-form h1 {
                text-align: center;
                margin-bottom: 18px;
                color: var(--brand);
                font-size: clamp(24px, 4.2vw, 34px);
                letter-spacing: .3px;
                text-shadow: 0 1px 0 rgba(0, 0, 0, .25);
            }

        /* Validation */
        .add-listing-page .validation-summary {
            color: #ffcccc;
            background: #7b1e1e30;
            border: 1px solid #ff8a8a55;
            padding: 10px 12px;
            border-radius: 12px;
            margin-bottom: 16px;
        }

            .add-listing-page .validation-summary ul {
                margin: 0 0 0 18px;
            }

        /* Inputs */
        .add-listing-page input,
        .add-listing-page textarea,
        .add-listing-page select {
            width: 100%;
            padding: 14px 16px;
            border-radius: 14px;
            border: 1px solid var(--border);
            background: linear-gradient(180deg, #0b0f2233, #0b0f221a);
            color: var(--text);
            margin-bottom: 16px;
            font-weight: 600;
            transition: box-shadow .2s ease, border-color .2s ease, background .2s ease;
            outline: none;
            appearance: none;
        }

            .add-listing-page input::placeholder,
            .add-listing-page textarea::placeholder {
                color: var(--muted);
            }

        .add-listing-page textarea {
            min-height: 120px;
            resize: vertical;
        }

            .add-listing-page input:focus,
            .add-listing-page textarea:focus,
            .add-listing-page select:focus {
                border-color: var(--brand);
                box-shadow: var(--ring);
                background: linear-gradient(180deg, #0b0f224d, #0b0f2226);
            }

        /* Label styling */
        .add-listing-page label {
            display: block;
            margin: 6px 0 6px 4px;
            font-weight: 700;
            letter-spacing: .2px;
        }

            /* Property Type + Status Labels */
            .add-listing-page label:contains("Property Type"),
            .add-listing-page label:contains("Status") {
                color: transparent;
                background: linear-gradient(90deg, var(--brand-2), var(--brand));
                -webkit-background-clip: text;
                background-clip: text;
                text-shadow: 0 2px 10px rgba(186,170,73,0.25);
                font-size: 1.05rem;
            }

        /* Dropdown Styles */
        .add-listing-page select {
            color: var(--brand);
            font-weight: 700;
            background: linear-gradient(180deg, #0e1230 0%, #0a0d1f 100%);
            border: 1px solid var(--brand);
            cursor: pointer;
        }

            .add-listing-page select option {
                background-color: #1a1d2d;
                color: var(--brand);
                font-weight: 600;
            }

                .add-listing-page select option:hover,
                .add-listing-page select option:focus {
                    background-color: var(--brand);
                    color: #151A2C;
                }

        /* File Input */
        .add-listing-page input[type="file"] {
            padding: 10px 12px;
            background: linear-gradient(180deg, #0b0f2233, #0b0f221a);
            cursor: pointer;
            color: var(--muted);
        }

            .add-listing-page input[type="file"]::file-selector-button {
                margin-right: 12px;
                border: 1px solid var(--border);
                background: linear-gradient(180deg, #ffffff22, #ffffff10);
                color: #fff;
                padding: 8px 14px;
                border-radius: 12px;
                cursor: pointer;
                transition: transform .12s ease, box-shadow .18s ease, filter .18s ease;
            }

                .add-listing-page input[type="file"]::file-selector-button:hover {
                    transform: translateY(-1px);
                    box-shadow: 0 10px 24px rgba(0, 0, 0, .28);
                    filter: brightness(1.03);
                }

        /* Button */
        .add-listing-page button {
            background: linear-gradient(180deg, var(--brand-2), var(--brand));
            color: #121629;
            border: none;
            padding: 14px 22px;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 900;
            cursor: pointer;
            width: 100%;
            box-shadow: 0 12px 28px rgba(186, 170, 73, .35);
            transition: transform .12s ease, box-shadow .18s ease, filter .18s ease;
        }

            .add-listing-page button:hover {
                transform: translateY(-1px);
                box-shadow: 0 18px 36px rgba(186, 170, 73, .45);
                filter: brightness(1.02);
            }

    @@media (max-width: 520px) {
        .add-listing-page .listing-form

    {
        padding: 24px 18px;
        margin: 36px auto;
    }

    .add-listing-page .listing-form h1 {
        font-size: 24px;
    }

    }
</style>


<div class="add-listing-page">
    <div class="listing-form">
        <h1>Add New Property Listing</h1>

        @if (!ViewData.ModelState.IsValid)
        {
            <div class="validation-summary">
                <ul>
                    @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                    {
                        <li>@error.ErrorMessage</li>
                    }
                </ul>
            </div>
        }

        <form asp-action="AddListing" method="post" enctype="multipart/form-data">
            <input asp-for="Title" placeholder="Title" />
            <textarea asp-for="Description" placeholder="Description"></textarea>
            <input asp-for="Price" type="number" step="0.01" placeholder="Price" />
            <input asp-for="Location" placeholder="Location" />

            <label>Property Type:</label>
            <select asp-for="PropertyType">
                <option value="">-- Select Type --</option>
                <option value="Apartment">Apartment</option>
                <option value="House">House</option>
                <option value="Townhouse">Townhouse</option>
                <option value="Studio">Studio</option>
            </select>

            <label>Bedrooms:</label>
            <input asp-for="Bedrooms" type="number" min="1" placeholder="Number of Bedrooms" />

            <label>Bathrooms:</label>
            <input asp-for="Bathrooms" type="number" min="1" placeholder="Number of Bathrooms" />

            <label>Status:</label>
            <select asp-for="Status">
                <option value="">-- Select Status --</option>
                <option value="Available">Available</option>
                <option value="Sold">Sold</option>
                <option value="Rented">Rented</option>
            </select>

            <label>Property Images:</label>
            <input asp-for="ImageFiles" type="file" multiple data-val="false" />

            <button type="submit">Add Listing</button>
        </form>
    </div>
</div>
